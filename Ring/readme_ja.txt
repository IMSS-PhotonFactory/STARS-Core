STARSクライアントプログラム「PF Ring情報参照クライアント」の使い方

■プログラムについて
○STARSをベースとしたプログラムで、STARSコマンドの送受信でPF-Ringのビームプロファイル値を参照することができます。

--------------------------------------------------------------
■更新履歴
2016.04.12	初回版リリース

--------------------------------------------------------------
■ファイルリスト（Windows版）
RingEPFStart.cmd	コマンドファイル
ringEPF.exe		実行ファイル
cshosts.csv		設定ファイル
Ring.key		STARSノード名「Ring」用KEYファイル
readme_ja.txt		説明ファイル（日本語）

--------------------------------------------------------------
■稼動環境
○当プログラムは
・Windows系OSで動作します。
・Linux OSについては、プログラムのコンパイルが必要となります。
これまで、Ubuntu/Cent OS/Scientific Linuxでの動作実績があります。
=>配布パッケージはWindows版のみとなっておりますので、Linux版をご希望の方はお問い合わせください。

○当プログラムの動作には、STARSサーバが必要です。
=>STARSサーバのインストール方法を知りたい方はお問い合わせください。

○当パッケージをインストールするPCに、KEK-LANのIPアドレスが割り振られている必要があります。
=>ルータを通してKEK-LANに接続している場合は、別パッケージを用意します。お問い合わせください。

○当パッケージのインストールPCで、ネットワークカードを２枚以上使用している場合
　KEK-LANのIPアドレスを割り振ってあるネットワークカードの使用優先順位を最優先にする必要があります。
＊優先順位は、WindowsのネットワークアダプタのTCP/IP(v4)の設定からたどってメトリック値を入力することで操作可能です。
　メトリック値は値が小さい方が優先高です。

--------------------------------------------------------------
■インストール方法（Windows版）
１．当パッケージ（Zipファイル）を解凍する。
　解凍フォルダ「Ringフォルダ」が作成されます。

２．解凍フォルダの下にSTARSキーファイル「Ring.key」があるので、STARS Serverにコピーします。

３．（オプション）コマンドファイル「RingEPFStart.cmd」を編集します。
　STARSサーバが当パッケージインストールPCと同じ場合は、３はスキップして終わりです。

　STARSサーバが別PCの場合は、ファイル「RingEPFStart.cmd」をテキストエディタで開き、
　行「.\ringEPF.exe Ring localhost」の「localhost」をSTARSサーバのIPアドレスに変更して保存します。

--------------------------------------------------------------
■実行方法
１．ファイル「RingEPFStart.cmd」をクリックし実行します。
　STARS Serverに接続し、KEK-LAN上にあるPF Ring情報サーバからRing情報の受信を開始します。
=>うまく動作しない場合はご連絡ください。

--------------------------------------------------------------
■STARSコマンドによる値取得方法

○Ringプロファイルノード名（STARSノード名がRing(デフォルト）の場合）
ビーム電流（mA）	Ring.DCCT 
ビームエネルギー（GeV）	Ring.Energy
ビーム寿命（min）	Ring.Lifetime
平均真空度（Pa）	Ring.Vacuum
運転モード		Ring.Status (0:Shutdown,1:Linac,2:Injection,3:Storage,4:User,5:User(Top-UP))
メッセージ		Ring.Message

上記のノード名に対し、GetValueコマンドで値を取得します。
例）STARSノード名「term1」で実行する場合
ビーム電流（mA）の場合ですと、
（送信）Ring.DCCT GetValue
（受信）Ring.DCCT>term1 @GetValue 449.982324

あるいは上記のノード名に対し、イベント_ChangedValueで値を取得します。
例）STARSノード名「term1」で実行する場合
運転モードの場合ですと、
（送信）System flgon Ring.Status
（受信）Ring.Status>term1 _ChangedValue 5
（受信）Ring.Status>term1 _ChangedValue 2
--------------------------------------------------------------
以上です。