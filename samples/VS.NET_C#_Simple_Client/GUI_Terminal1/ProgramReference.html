<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Windows-1252" />
    <title>Console.Terminal1</title>
  </head>
  <body>
  <h1>GUI_Terminal1 Reference</h1>
  
  <h1>Project Member</h1>
  <table width="70%" border="0" cellpadding="4" cellspacing="0" bgcolor="#e8e8e8">
  <tr>
  <td>
<PRE>Solution 'GUI_Terminal1'
 |
 +--+ Project 'GUI_Terminal1'
    |
    +-- Properties
    |   +-- AssemblyInfo.css
    |   |
    |   +-- Resources.resx
    |   |   + Resources.Designer.cs
    |   |
    |   +-- Settings.settings
    |       + Settings.Designer.cs
    |   
    +-- Reference Includes
    |   +-- StarsInterface   
    |   +-- StarsInterfaceWinForm   
    |   +-- System
    |   +-- System.Drawing   
    |   +-- System.Windows.WinForm   
    |
    +-- Form1.cs
    |   +-- Form1.Designer.cs
    |
    +-- Program.cs
</PRE>
  </td>
  </tr></table>
  <BR>
  <table border="1" cellspacing="0">
    <tr valign="top" >
      <td >Properties Files</td>
      <td >AssemblyInfo.css<br>
        Resources.resx<br>
        Resources.Designer.cs<br>
        Settings.settings<br>
        Settings.Designer.cs</td>
      <td >Properties, generated code.<br>
      </td>
    </tr>
    <tr valign="top" >
      <td rowspan="3" >Reference Includes</td>
      <td >StarsInterface</td>
      <td >Directive for StarsInterface.<br>
        Add for using Stars .NET.</td>
    </tr>
    <tr valign="top" >
      <td >StarsInterfaceWinForm</td>
      <td >Directive for StarsInterfaceWinForm.<br>
        Add for using Stars .NET Forms Method.</td>
    </tr>
    <tr>
      <td >System<br>
        System.Drawing<br>
        System.Windows.WinForm</td>
      <td >Directive for System libraries.</td>
    </tr>
    <tr>
      <td rowspan="3" >Program Files</td>
      <td ><a href="#Program.cs">Program.cs</a></td>
      <td >Entry Point, generated code</td>
    </tr>
    <tr>
      <td ><a href="#Form1.cs">Form1.cs</a></td>
      <td >Form1 Application Code</td>
    </tr>
    <tr valign="top" >
      <td >Form1.Designer.cs</td>
      <td >Automatically generated code for Form1.</td>
    </tr>
  </table>

  <hr>
  <h1><A NAME="ConsoleTerminal1">GUI_Terminal1</A>  Namespace</h1>
  <h3>Classes</h3>
  <table border="1" cellspacing="0">
  <tr>
                    <td ><a href="#Program.cs">Program</a></td>
                    <td>Entry Point class, which has class 'main'.</td>
  </tr>
  <tr valign="top" >
                    <td ><a href="#ProgramForm1">Form1</a></td>
                    <td>Form1 class</td>
  </tr>
  </table>

  <h1>Using Directive</h1>
  <table border="1" cellspacing="0">
    <tr valign="top" >
      <td >System</td>
      <td >Directive for System.</td>
    </tr>
    <tr valign="top" >
      <td >System.Collections.Generic</td>
      <td >Directive for System.Collections.Generic</td>
    </tr>
    <tr valign="top" >
      <td >System.Windows.Forms</td>
      <td >Directive for System.Windows.Forms.</td>
    </tr>
    <tr valign="top" >
      <td >System.IO</td>
      <td >Directive for System.IO.<br>
        Add for using text File I/O.</td>
    </tr>
    <tr>
      <td >STARS</td>
      <td >Directive for StarsInterface.<br>
 Add for using Stars .NET.</td>
    </tr>
    <tr valign="top" >
      <td >STARS.WinForm</td>
      <td >Directive for StarsInterfaceWinForm.<br>
        Add for using Stars .NET Forms Method.</td>
    </tr>
  </table>

  <hr>
  
  <h1>About <A NAME="Program.cs">Program.cs</A></h1>
  <h3>Code View</h3>
  Using Generated Source (make no change).
  <table width="70%" border="0" cellpadding="4" cellspacing="0" bgcolor="#e8e8e8">
  <tr>
  <td>
 <PRE>using System;
using System.Collections.Generic;
using System.Windows.Forms;

namespace GUI_Terminal1
{
    static class Program
    {
        /// &lt;summary&gt;
        /// Application Entry Point.
        /// &lt;/summary&gt;
        [STAThread]
        static void Main()
        {
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            Application.Run(<b>new <a href="#Form1.Form1">Form1</a>()</b>);
        }
    }
}</PRE></td>
  </tr></table>

  <hr>
  <h1>About <A NAME="Form1.cs">Form1.cs</A></h1>
  <h3>Code View</h3>
  <table width="70%" border="0" cellpadding="4" cellspacing="0" bgcolor="#e8e8e8">
  <tr>
  <td>
 <PRE>using System;
using System.Windows.Forms;
using System.IO;
using STARS;
using STARS.WinForm;

namespace GUI_Terminal1
{
    /// &lt;summary&gt;
    /// Form1 Class.
    /// &lt;/summary&gt;
    public partial class Form1 : Form
    {
        /// &lt;summary&gt;This field is a stars interface.&lt;/summary&gt;
        <a href="#Form1.stars">public StarsInterface stars</a>;

        /// &lt;summary&gt;
        /// Form1 Initialized here.
        /// &lt;/summary&gt;
        <a href="#Form1.Form1">public Form1()</a>
        {
            // method described in 'Form1.Designer.cs'
            InitializeComponent();
        }

        /// &lt;summary&gt;Start Stars Connection here.&lt;/summary&gt;
        <a href="#Form1.Form1_Load">private void Form1_Load(object sender, EventArgs e)</a>
        {
            string[] starsargs = new string[] { &quot;csterm&quot;, &quot;localhost&quot; };
            string[] cmds;

            // Check Program Parameters
            cmds = System.Environment.GetCommandLineArgs();
            if (cmds.Length &gt;= 3)
            {
                starsargs[1] = cmds[2];
                starsargs[0] = cmds[1];
            }
            else if (cmds.Length == 2)
            {
                starsargs[0] = cmds[1];
            }

            // Step1. Connect to Stars.
            stars = new StarsInterface(starsargs[0], starsargs[1]);
            try
            {
                stars.Connect();
            }
            catch (Exception se)
            {
                MessageBox.Show(se.Message);
                this.Close();
                return;
            }

            // Step2. Add the stars handler named 'stars_received' which is called when arriving stars messages.
            StarsCbWinForm cbStars = new StarsCbWinForm(this, stars);
            cbStars.StartCbHandler(new StarsCbHandler(<a href="#Form1.stars_received">stars_received</a>));

        }

        /// &lt;summary&gt;This method is called when arriving stars messages.&lt;/summary&gt;
        <a href="#Form1.stars_received">private void stars_received(object sender, StarsCbArgs ev)</a>
        {
            // Begin with '@' : Reply's arrived
            if(ev.command[0] == '@'){
                lbReply_update(ev.allMessage);
                txtLog_update(ev.allMessage);
                logFile_update(ev.allMessage);
                // Begin with '_' : Event's arrived
            }else if(ev.command[0] == '_'){
                txtLog_update(ev.allMessage);
                logFile_update(ev.allMessage);
                // Command Request's arrived, to nodename
            }
            else if (ev.to == stars.nodeName)
            {
                String mess;
                txtLog_update(ev.allMessage);
                logFile_update(ev.allMessage);
                switch (ev.command)
                {
                    case &quot;hello&quot;:
                        mess = ev.from + &quot; @&quot; + ev.command + &quot; hello nice to meet you.&quot;;
                        break;
                    case &quot;help&quot;:
                        mess = ev.from + &quot; @&quot; + ev.command + &quot; hello help.&quot;;
                        break;
                    default:
                        mess = ev.from + &quot; @&quot; + ev.command + &quot; Er: Bad command or parameter.&quot;;
                        break;
                }
                stars.Send(mess);
                txtLog_update(mess);
                logFile_update(mess);
            // Command Request's arrived, to nodename.XXXX... maybe
            } else
            {
                String mess;
                txtLog_update(ev.allMessage);
                logFile_update(ev.allMessage);
                mess = ev.from + &quot; @&quot; + ev.command + &quot; Er: &quot; + ev.to + &quot; is down.&quot;;
                stars.Send(mess);
                txtLog_update(mess);
                logFile_update(mess);
            }
            return;
        }


        /// &lt;summary&gt;Send button click method&lt;/summary&gt;
        <a href="#Form1.btSend_Click">private void btSend_Click(object sender, EventArgs e)</a>
        {
            String mess;
            mess = cbSend.Text;
            if (mess.Trim() == &quot;&quot;)
            {
                return;
            }
            txtLog_update(mess);
            logFile_update(mess);
            lbReply_update(&quot;&quot;);

            // Send stars message input.
            stars.Send(mess);
            int si = cbSend.FindString(mess,-1);
            if (si &lt; 0)
            {
                cbSend.Items.Add(mess);
            }
            else
            {
                cbSend.Items.RemoveAt(si);
                cbSend.Items.Add(mess);
                cbSend.SelectedItem = mess;
            }
        }
	//*** The rest is omitted. show program source file.
    }
}</PRE></td>
  </tr></table>

  <h1><A NAME="ProgramForm1">Form1</A>  Class</h1>
  Form1 class.<BR>
  For a list of all members of this type, see <a href="#ProgramForm1 Members">Form1 Members.</a>
  <p>public class Form1&nbsp;&nbsp;&nbsp; :&nbsp;&nbsp;&nbsp;&nbsp; Form</p>
      <p>
  <b>Namespace: </b>        <a href="#ConsoleTerminal1">GUI_Terminal1</a>  </p>
        <h1><A NAME="ProgramForm1 Members"></A>Form1 Members</h1>
        <h4>
        Public Instance Fields</h4>
        <table border="1" cellspacing="0">
<tr VALIGN="top"><td><a href="#Form1.stars">stars</a></td>
<td>This field is a stars interface.</td>
</tr></table>
  <h4>Public Instance Constructors</h4>
        <table cellspacing="0" border="1">
<tr>
  <td><a href="#Form1.Form1">Form1</a></td>
<td>Form1 Initialized here.</td>
</tr>
  </table>
      <p><b>Private Instance Methods</b></p>
        <table cellspacing="0" border="1">
<tr VALIGN="top"><td><a href="#Form1.Form1_Load">Form1_Load</a></td>
<td>Start stars connection here.</td></tr>
<tr>
  <td><a href="#Form1.stars_received">stars_received</a></td>
<td>This method is called when arriving stars messages.</td>
</tr>
<tr VALIGN="top"><td><a href="#Form1.btSend_Click">btSend_Click</a></td>
<td>Send button click method. Send stars message.</td>
</tr></table>
        <h1><A NAME="Form1.stars">Form1.stars</A> Field</h1>
  <p>This field is a stars interface.</p>
            <h4>Usage</h4>
  <p>public StarsInterface stars;</p>
  <h1><A NAME="Form1.Form1">Form1</A>  Constructor</h1>
  <p>Form1 Initialized here.</p>
            <h4>Usage</h4>
  <p>public Form1();</p>
  <h1><A NAME="Form1.Form1_Load">Form1.Form1_Load</A> Method&nbsp;</h1>
  <p>Start stars connection here.</p>
        <h4>Usage</h4>
  private void Form1_Load(<br>
   Object sender,<br>
   EventArgs e<br>
  );
      <h4>Example</h4>
  <p>Example for Stars connection.</p>
<table width="70%" border="0" cellpadding="4" cellspacing="0" bgcolor="#e8e8e8">
  <tr>
  <td>
             <pre>private void Form1_Load(object sender, EventArgs e)
{
     // Step1. Connect to Stars.
     stars = new StarsInterface(&quot;csterm&quot;, &quot;localhost&quot;);
     try
     {
          stars.Connect();
     }
     catch (Exception se)
     {
          MessageBox.Show(se.Message);
          this.Close();
          return;
     }

     // Step2. Add the stars handler named 'stars_received' which is called when arriving stars messages.
     StarsCbWinForm cbStars = new StarsCbWinForm(this, stars);
     cbStars.StartCbHandler(new StarsCbHandler(stars_received));
}</pre>
</td></tr></table>

        <h1><A NAME="Form1.stars_received">Form1.stars_received</A>&nbsp;Method</h1>

      <p>This method is called when arriving stars messages.</p>
      <h4>Usage</h4>
      private&nbsp;void&nbsp;stars_received(<br />
      &nbsp;&nbsp;&nbsp;Object&nbsp;<i>sender</i>,<br />&nbsp;&nbsp;&nbsp;StarsCbArgs&nbsp;<i>cb</i><br />);
      <h4>Parameters</h4>
      <dl>
        <dt>
          <i>sender</i>
        </dt>
        <dd>
        </dd>
        <dt>
          <i>cb</i>
        </dt>
        <dd>Used to access the Stars object which contains received data.</dd>
      </dl>
      <h4>Example</h4>
      <p>Example for receive message to Stars Server.</p>
<table width="70%" border="0" cellpadding="4" cellspacing="0" bgcolor="#e8e8e8">
  <tr><td><PRE>private void Stars_Message_Received(object sender, StarsCbArgs cb)
{
   //For check arriving &quot;hello&quot; 
   if(cb.Message == &quot;hello&quot;)
   {
       // Send Stars reply message to sender.
       stars.Send(cb.from + &quot; @&quot; + cb.Message &quot; hello nice to meet you&quot;);
   }</pre>
</td></tr></table>
  <h1>Form1.<A NAME="Form1.btSend_Click">btSend_Click</A>&nbsp;Method</h1>

      <p>Send button click method. Send stars message.</p>
      <h4>Usage</h4>
  private void btSend_Click(<br>
   Object sender,<br>
   EventArgs e<br>
  );<br>
      <h4>Example</h4>
  <p>Example for send message to Stars Server.</p>
<table width="70%" border="0" cellpadding="4" cellspacing="0" bgcolor="#e8e8e8">
  <tr><td><PRE><font SIZE="2">private void btSend_Click(object sender, EventArgs e)
{
	</font>String mess;
        mess = &quot;System hello&quot;;
	//Send &quot;System hello&quot; to Stars Server
        stars.Send(mess);
}</pre>
</td></tr></table>
  </body>
</html>
